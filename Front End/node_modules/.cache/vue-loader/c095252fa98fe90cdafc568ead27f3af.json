{"remainingRequest":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\src\\components\\Inputs\\DropzoneFileUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\src\\components\\Inputs\\DropzoneFileUpload.vue","mtime":1599650740859},{"path":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZHJvcHpvbmUtZmlsZS11cGxvYWQnLAogIHByb3BzOiB7CiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KQogICAgfSwKICAgIHZhbHVlOiBbU3RyaW5nLCBPYmplY3QsIEFycmF5XSwKICAgIHVybDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdodHRwOi8vJwogICAgfSwKICAgIG11bHRpcGxlOiBCb29sZWFuLAogICAgcHJldmlld0NsYXNzZXM6IFtTdHJpbmcsIE9iamVjdCwgQXJyYXldCiAgfSwKICBtb2RlbDogewogICAgcHJvcDogJ3ZhbHVlJywKICAgIGV2ZW50OiAnY2hhbmdlJwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRGaWxlOiBudWxsLAogICAgICBmaWxlczogW10sCiAgICAgIHNob3dMaXN0OiBmYWxzZSwKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGluaXREcm9wem9uZSgpIHsKICAgICAgbGV0IERyb3B6b25lID0gYXdhaXQgaW1wb3J0KCdkcm9wem9uZScpCiAgICAgIERyb3B6b25lID0gRHJvcHpvbmUuZGVmYXVsdCB8fCBEcm9wem9uZQogICAgICBEcm9wem9uZS5hdXRvRGlzY292ZXIgPSBmYWxzZQogICAgICBsZXQgcHJldmlldyA9IHRoaXMubXVsdGlwbGUgPyB0aGlzLiRyZWZzLnByZXZpZXdNdWx0aXBsZSA6IHRoaXMuJHJlZnMucHJldmlld1NpbmdsZTsKICAgICAgbGV0IHNlbGYgPSB0aGlzCiAgICAgIGxldCBmaW5hbE9wdGlvbnMgPSB7CiAgICAgICAgLi4udGhpcy5vcHRpb25zLAogICAgICAgIHVybDogdGhpcy51cmwsCiAgICAgICAgdGh1bWJuYWlsV2lkdGg6IG51bGwsCiAgICAgICAgdGh1bWJuYWlsSGVpZ2h0OiBudWxsLAogICAgICAgIHByZXZpZXdzQ29udGFpbmVyOiBwcmV2aWV3LAogICAgICAgIHByZXZpZXdUZW1wbGF0ZTogcHJldmlldy5pbm5lckhUTUwsCiAgICAgICAgbWF4RmlsZXM6ICghdGhpcy5tdWx0aXBsZSkgPyAxIDogbnVsbCwKICAgICAgICBhY2NlcHRlZEZpbGVzOiAoIXRoaXMubXVsdGlwbGUpID8gJ2ltYWdlLyonIDogbnVsbCwKICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aGlzLm9uKCJhZGRlZGZpbGUiLCBmdW5jdGlvbiAoZmlsZSkgewogICAgICAgICAgICBpZiAoIXNlbGYubXVsdGlwbGUgJiYgc2VsZi5jdXJyZW50RmlsZSkgewogICAgICAgICAgICAgIC8vIHRoaXMucmVtb3ZlRmlsZSh0aGlzLmN1cnJlbnRGaWxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZWxmLmN1cnJlbnRGaWxlID0gZmlsZTsKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuZHJvcHpvbmUgPSBuZXcgRHJvcHpvbmUodGhpcy4kZWwsIGZpbmFsT3B0aW9ucykKICAgICAgcHJldmlldy5pbm5lckhUTUwgPSAnJwogICAgICBsZXQgZXZ0TGlzdCA9IFsnZHJvcCcsICdkcmFnc3RhcnQnLCAnZHJhZ2VuZCcsICdkcmFnZW50ZXInLCAnZHJhZ292ZXInLCAnYWRkZWRmaWxlJywgJ3JlbW92ZWRmaWxlJywgJ3RodW1ibmFpbCcsICdlcnJvcicsICdwcm9jZXNzaW5nJywgJ3VwbG9hZHByb2dyZXNzJywgJ3NlbmRpbmcnLCAnc3VjY2VzcycsICdjb21wbGV0ZScsICdjYW5jZWxlZCcsICdtYXhmaWxlc3JlYWNoZWQnLCAnbWF4ZmlsZXNleGNlZWRlZCcsICdwcm9jZXNzaW5nbXVsdGlwbGUnLCAnc2VuZGluZ211bHRpcGxlJywgJ3N1Y2Nlc3NtdWx0aXBsZScsICdjb21wbGV0ZW11bHRpcGxlJywgJ2NhbmNlbGVkbXVsdGlwbGUnLCAndG90YWx1cGxvYWRwcm9ncmVzcycsICdyZXNldCcsICdxdWV1ZWNvbXBsZXRlJ10KICAgICAgZXZ0TGlzdC5mb3JFYWNoKGV2dCA9PiB7CiAgICAgICAgdGhpcy5kcm9wem9uZS5vbihldnQsIChkYXRhKSA9PiB7CiAgICAgICAgICB0aGlzLiRlbWl0KGV2dCwgZGF0YSk7CgogICAgICAgICAgaWYgKGV2dCA9PT0gJ2FkZGVkZmlsZScpIHsKICAgICAgICAgICAgdGhpcy5maWxlcy5wdXNoKGRhdGEpCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuZmlsZXMpOwogICAgICAgICAgfSBlbHNlIGlmIChldnQgPT09ICdyZW1vdmVkZmlsZScpIHsKICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5maWxlcy5maW5kSW5kZXgoZiA9PiBmLnVwbG9hZC51dWlkID09PSBkYXRhLnVwbG9hZC51dWlkKQogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgICAgICAgICAgdGhpcy5maWxlcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuZmlsZXMpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9CiAgfSwKICBhc3luYyBtb3VudGVkKCkgewogICAgdGhpcy5pbml0RHJvcHpvbmUoKQogIH0KfQo="},{"version":3,"sources":["DropzoneFileUpload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DropzoneFileUpload.vue","sourceRoot":"src/components/Inputs","sourcesContent":["<template>\r\n  <div class=\"dropzone mb-3 dz-clickable\"\r\n       :class=\"[multiple ? 'dropzone-multiple': 'dropzone-single']\">\r\n    <div class=\"fallback\">\r\n      <div class=\"custom-file\">\r\n        <input type=\"file\"\r\n               class=\"custom-file-input\"\r\n               id=\"projectCoverUploads\"\r\n               :multiple=\"multiple\">\r\n        <label class=\"custom-file-label\" for=\"projectCoverUploads\">Choose file</label>\r\n      </div>\r\n    </div>\r\n    <div class=\"dz-preview dz-preview-single\"\r\n         v-if=\"!multiple\"\r\n         :class=\"previewClasses\"\r\n         ref=\"previewSingle\">\r\n      <div class=\"dz-preview-cover\">\r\n        <img class=\"dz-preview-img\" data-dz-thumbnail>\r\n      </div>\r\n    </div>\r\n    <ul v-else\r\n        class=\"dz-preview dz-preview-multiple list-group list-group-lg list-group-flush\"\r\n        :class=\"previewClasses\"\r\n        ref=\"previewMultiple\">\r\n      <li class=\"list-group-item px-0\">\r\n        <div class=\"row align-items-center\">\r\n          <div class=\"col-auto\">\r\n            <div class=\"avatar\">\r\n              <img class=\"avatar-img rounded\" data-dz-thumbnail>\r\n            </div>\r\n          </div>\r\n          <div class=\"col ml--3\">\r\n            <h4 class=\"mb-1\" data-dz-name>...</h4>\r\n            <p class=\"small text-muted mb-0\" data-dz-size>...</p>\r\n          </div>\r\n          <div class=\"col-auto\">\r\n            <button data-dz-remove=\"true\" class=\"btn btn-danger btn-sm\">\r\n              <i class=\"fas fa-trash\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    name: 'dropzone-file-upload',\r\n    props: {\r\n      options: {\r\n        type: Object,\r\n        default: () => ({})\r\n      },\r\n      value: [String, Object, Array],\r\n      url: {\r\n        type: String,\r\n        default: 'http://'\r\n      },\r\n      multiple: Boolean,\r\n      previewClasses: [String, Object, Array]\r\n    },\r\n    model: {\r\n      prop: 'value',\r\n      event: 'change'\r\n    },\r\n    data() {\r\n      return {\r\n        currentFile: null,\r\n        files: [],\r\n        showList: false,\r\n      }\r\n    },\r\n    methods: {\r\n      async initDropzone() {\r\n        let Dropzone = await import('dropzone')\r\n        Dropzone = Dropzone.default || Dropzone\r\n        Dropzone.autoDiscover = false\r\n        let preview = this.multiple ? this.$refs.previewMultiple : this.$refs.previewSingle;\r\n        let self = this\r\n        let finalOptions = {\r\n          ...this.options,\r\n          url: this.url,\r\n          thumbnailWidth: null,\r\n          thumbnailHeight: null,\r\n          previewsContainer: preview,\r\n          previewTemplate: preview.innerHTML,\r\n          maxFiles: (!this.multiple) ? 1 : null,\r\n          acceptedFiles: (!this.multiple) ? 'image/*' : null,\r\n          init: function () {\r\n            this.on(\"addedfile\", function (file) {\r\n              if (!self.multiple && self.currentFile) {\r\n                // this.removeFile(this.currentFile);\r\n              }\r\n              self.currentFile = file;\r\n            })\r\n          }\r\n        }\r\n        this.dropzone = new Dropzone(this.$el, finalOptions)\r\n        preview.innerHTML = ''\r\n        let evtList = ['drop', 'dragstart', 'dragend', 'dragenter', 'dragover', 'addedfile', 'removedfile', 'thumbnail', 'error', 'processing', 'uploadprogress', 'sending', 'success', 'complete', 'canceled', 'maxfilesreached', 'maxfilesexceeded', 'processingmultiple', 'sendingmultiple', 'successmultiple', 'completemultiple', 'canceledmultiple', 'totaluploadprogress', 'reset', 'queuecomplete']\r\n        evtList.forEach(evt => {\r\n          this.dropzone.on(evt, (data) => {\r\n            this.$emit(evt, data);\r\n\r\n            if (evt === 'addedfile') {\r\n              this.files.push(data)\r\n              this.$emit('change', this.files);\r\n            } else if (evt === 'removedfile') {\r\n              let index = this.files.findIndex(f => f.upload.uuid === data.upload.uuid)\r\n              if (index !== -1) {\r\n                this.files.splice(index, 1);\r\n              }\r\n              this.$emit('change', this.files);\r\n            }\r\n          })\r\n        })\r\n      }\r\n    },\r\n    async mounted() {\r\n      this.initDropzone()\r\n    }\r\n  }\r\n</script>\r\n<style>\r\n</style>\r\n"]}]}