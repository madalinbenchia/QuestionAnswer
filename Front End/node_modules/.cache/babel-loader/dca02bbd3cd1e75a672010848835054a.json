{"remainingRequest":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\babel-loader\\lib\\index.js!D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\src\\middleware\\admin.js","dependencies":[{"path":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\src\\middleware\\admin.js","mtime":1609354605110},{"path":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2xhcmFnb24vd3d3L3Z1ZS1hcmdvbi1kYXNoYm9hcmQtcHJvLWpzb24tYXBpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRtaW4oX3gpIHsKICByZXR1cm4gX2FkbWluLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9hZG1pbigpIHsKICBfYWRtaW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZikgewogICAgdmFyIG5leHQsIHJvdXRlciwgbWU7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIG5leHQgPSBfcmVmLm5leHQsIHJvdXRlciA9IF9yZWYucm91dGVyOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCJwcm9maWxlL21lIik7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmdldHRlcnNbInByb2ZpbGUvbWUiXTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIG1lID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgIGlmICghKHN0b3JlLmdldHRlcnMuaXNBdXRoZW50aWNhdGVkICYmIG1lLnJvbGVzWzBdLm5hbWUgIT09ICdhZG1pbicpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICBwYXRoOiAiL2Rhc2hib2FyZCIKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV4dCgpKTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfYWRtaW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQ=="},{"version":3,"sources":["D:/laragon/www/vue-argon-dashboard-pro-json-api/src/middleware/admin.js"],"names":["store","admin","next","router","dispatch","getters","me","isAuthenticated","roles","name","push","path"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,UAAlB;AAEA,wBAA8BC,KAA9B;AAAA;AAAA;;;mEAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuBC,YAAAA,IAAvB,QAAuBA,IAAvB,EAA6BC,MAA7B,QAA6BA,MAA7B;AAAA;AAAA,mBACPH,KAAK,CAACI,QAAN,CAAe,YAAf,CADO;;AAAA;AAAA;AAAA,mBAEEJ,KAAK,CAACK,OAAN,CAAc,YAAd,CAFF;;AAAA;AAETC,YAAAA,EAFS;;AAAA,kBAITN,KAAK,CAACK,OAAN,CAAcE,eAAd,IAAiCD,EAAE,CAACE,KAAH,CAAS,CAAT,EAAYC,IAAZ,KAAmB,OAJ3C;AAAA;AAAA;AAAA;;AAAA,6CAKLN,MAAM,CAACO,IAAP,CAAY;AAAEC,cAAAA,IAAI,EAAE;AAAR,aAAZ,CALK;;AAAA;AAAA,6CAONT,IAAI,EAPE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import store from \"../store\";\r\n\r\nexport default async function admin({ next, router }) {\r\n  await store.dispatch(\"profile/me\");\r\n  let me = await store.getters[\"profile/me\"];\r\n\r\n  if (store.getters.isAuthenticated && me.roles[0].name!=='admin') {\r\n   return router.push({ path: \"/dashboard\" });\r\n  }\r\n  return next();\r\n}\r\n"]}]}