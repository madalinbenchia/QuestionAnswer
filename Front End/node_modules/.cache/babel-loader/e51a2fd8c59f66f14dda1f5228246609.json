{"remainingRequest":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\babel-loader\\lib\\index.js!D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\src\\middleware\\admin_creator.js","dependencies":[{"path":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\src\\middleware\\admin_creator.js","mtime":1609354605111},{"path":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\laragon\\www\\vue-argon-dashboard-pro-json-api\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2xhcmFnb24vd3d3L3Z1ZS1hcmdvbi1kYXNoYm9hcmQtcHJvLWpzb24tYXBpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRtaW5fY3JlYXRvcihfeCkgewogIHJldHVybiBfYWRtaW5fY3JlYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfYWRtaW5fY3JlYXRvcigpIHsKICBfYWRtaW5fY3JlYXRvciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmKSB7CiAgICB2YXIgbmV4dCwgcm91dGVyLCBtZTsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgbmV4dCA9IF9yZWYubmV4dCwgcm91dGVyID0gX3JlZi5yb3V0ZXI7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goInByb2ZpbGUvbWUiKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZ2V0dGVyc1sicHJvZmlsZS9tZSJdOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgbWUgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgaWYgKCEoc3RvcmUuZ2V0dGVycy5pc0F1dGhlbnRpY2F0ZWQgJiYgbWUucm9sZXNbMF0ubmFtZSAhPT0gJ2FkbWluJyAmJiBtZS5yb2xlc1swXS5uYW1lICE9PSAnY3JlYXRvcicpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICBwYXRoOiAiL2Rhc2hib2FyZCIKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV4dCgpKTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfYWRtaW5fY3JlYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},{"version":3,"sources":["D:/laragon/www/vue-argon-dashboard-pro-json-api/src/middleware/admin_creator.js"],"names":["store","admin_creator","next","router","dispatch","getters","me","isAuthenticated","roles","name","push","path"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,UAAlB;AAEA,wBAA8BC,aAA9B;AAAA;AAAA;;;2EAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+BC,YAAAA,IAA/B,QAA+BA,IAA/B,EAAqCC,MAArC,QAAqCA,MAArC;AAAA;AAAA,mBACPH,KAAK,CAACI,QAAN,CAAe,YAAf,CADO;;AAAA;AAAA;AAAA,mBAEEJ,KAAK,CAACK,OAAN,CAAc,YAAd,CAFF;;AAAA;AAETC,YAAAA,EAFS;;AAAA,kBAITN,KAAK,CAACK,OAAN,CAAcE,eAAd,IAAiCD,EAAE,CAACE,KAAH,CAAS,CAAT,EAAYC,IAAZ,KAAmB,OAApD,IAA+DH,EAAE,CAACE,KAAH,CAAS,CAAT,EAAYC,IAAZ,KAAmB,SAJzE;AAAA;AAAA;AAAA;;AAAA,6CAKJN,MAAM,CAACO,IAAP,CAAY;AAAEC,cAAAA,IAAI,EAAE;AAAR,aAAZ,CALI;;AAAA;AAAA,6CAQNT,IAAI,EARE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import store from \"../store\";\r\n\r\nexport default async function admin_creator({ next, router }) {\r\n  await store.dispatch(\"profile/me\");\r\n  let me = await store.getters[\"profile/me\"];\r\n\r\n  if (store.getters.isAuthenticated && me.roles[0].name!=='admin' && me.roles[0].name!=='creator') {\r\n    return router.push({ path: \"/dashboard\" });\r\n  }\r\n\r\n  return next();\r\n}\r\n"]}]}